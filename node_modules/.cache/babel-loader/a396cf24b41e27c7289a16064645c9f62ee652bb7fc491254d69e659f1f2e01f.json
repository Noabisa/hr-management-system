{"ast":null,"code":"// VehicleList.js\nimport React,{useEffect,useState}from'react';import axios from'axios';import'../App.css';// Ensure you import the CSS file\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VehicleList=()=>{const[vehicles,setVehicles]=useState([]);const[isEditing,setIsEditing]=useState(false);const[currentVehicle,setCurrentVehicle]=useState({id:'',model:'',status:''});const fetchVehicles=async()=>{try{const response=await axios.get('http://localhost:5002/api/vehicles');setVehicles(response.data);}catch(error){console.error('Error fetching vehicles:',error);}};useEffect(()=>{fetchVehicles();},[]);const handleDelete=async id=>{try{await axios.delete(`http://localhost:5002/api/vehicles/${id}`);fetchVehicles();// Refresh vehicle list\n}catch(error){console.error('Error deleting vehicle:',error);}};const handleEdit=vehicle=>{setCurrentVehicle(vehicle);setIsEditing(true);};const handleUpdate=async e=>{e.preventDefault();try{await axios.put(`http://localhost:5002/api/vehicles/${currentVehicle.id}`,{model:currentVehicle.model,status:currentVehicle.status});setIsEditing(false);fetchVehicles();// Refresh vehicle list\nsetCurrentVehicle({id:'',model:'',status:''});// Clear the form\n}catch(error){console.error('Error updating vehicle:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"vehicle-list\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Vehicle List\"}),/*#__PURE__*/_jsx(\"ul\",{children:vehicles.map(vehicle=>/*#__PURE__*/_jsxs(\"li\",{children:[vehicle.model,\" - \",vehicle.status,/*#__PURE__*/_jsx(\"button\",{className:\"edit\",onClick:()=>handleEdit(vehicle),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete\",onClick:()=>handleDelete(vehicle._id),children:\"Delete\"})]},vehicle._id))}),isEditing&&/*#__PURE__*/_jsxs(\"div\",{className:\"edit-form\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Edit Vehicle\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdate,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Model:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:currentVehicle.model,onChange:e=>setCurrentVehicle({...currentVehicle,model:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Status:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:currentVehicle.status,onChange:e=>setCurrentVehicle({...currentVehicle,status:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update Vehicle\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setIsEditing(false),children:\"Cancel\"})]})]})]});};export default VehicleList;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","VehicleList","vehicles","setVehicles","isEditing","setIsEditing","currentVehicle","setCurrentVehicle","id","model","status","fetchVehicles","response","get","data","error","console","handleDelete","delete","handleEdit","vehicle","handleUpdate","e","preventDefault","put","className","children","map","onClick","_id","onSubmit","type","value","onChange","target","required"],"sources":["C:/Users/user/OneDrive/Desktop/BSCSMY2S1/WebDesign/hr-management-system/src/components/VehicleList.js"],"sourcesContent":["// VehicleList.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport '../App.css'; // Ensure you import the CSS file\r\n\r\nconst VehicleList = () => {\r\n    const [vehicles, setVehicles] = useState([]);\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [currentVehicle, setCurrentVehicle] = useState({ id: '', model: '', status: '' });\r\n\r\n    const fetchVehicles = async () => {\r\n        try {\r\n            const response = await axios.get('http://localhost:5002/api/vehicles');\r\n            setVehicles(response.data);\r\n        } catch (error) {\r\n            console.error('Error fetching vehicles:', error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchVehicles();\r\n    }, []);\r\n\r\n    const handleDelete = async (id) => {\r\n        try {\r\n            await axios.delete(`http://localhost:5002/api/vehicles/${id}`);\r\n            fetchVehicles(); // Refresh vehicle list\r\n        } catch (error) {\r\n            console.error('Error deleting vehicle:', error);\r\n        }\r\n    };\r\n\r\n    const handleEdit = (vehicle) => {\r\n        setCurrentVehicle(vehicle);\r\n        setIsEditing(true);\r\n    };\r\n\r\n    const handleUpdate = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            await axios.put(`http://localhost:5002/api/vehicles/${currentVehicle.id}`, {\r\n                model: currentVehicle.model,\r\n                status: currentVehicle.status,\r\n            });\r\n            setIsEditing(false);\r\n            fetchVehicles(); // Refresh vehicle list\r\n            setCurrentVehicle({ id: '', model: '', status: '' }); // Clear the form\r\n        } catch (error) {\r\n            console.error('Error updating vehicle:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"vehicle-list\">\r\n            <h2>Vehicle List</h2>\r\n            <ul>\r\n                {vehicles.map((vehicle) => (\r\n                    <li key={vehicle._id}>\r\n                        {vehicle.model} - {vehicle.status}\r\n                        <button className=\"edit\" onClick={() => handleEdit(vehicle)}>Edit</button>\r\n                        <button className=\"delete\" onClick={() => handleDelete(vehicle._id)}>Delete</button>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n\r\n            {isEditing && (\r\n                <div className=\"edit-form\">\r\n                    <h3>Edit Vehicle</h3>\r\n                    <form onSubmit={handleUpdate}>\r\n                        <label>Model:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={currentVehicle.model}\r\n                            onChange={(e) => setCurrentVehicle({ ...currentVehicle, model: e.target.value })}\r\n                            required\r\n                        />\r\n                        <label>Status:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={currentVehicle.status}\r\n                            onChange={(e) => setCurrentVehicle({ ...currentVehicle, status: e.target.value })}\r\n                            required\r\n                        />\r\n                        <button type=\"submit\">Update Vehicle</button>\r\n                        <button type=\"button\" onClick={() => setIsEditing(false)}>Cancel</button>\r\n                    </form>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default VehicleList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}